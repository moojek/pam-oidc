.TH PAM_OIDC 8 "28 August 2025" "pam_oidc" "OIDC PAM Module Manual"
.SH NAME
pam_oidc \- Module for OpenID Connect (OIDC) authentication
.SH SYNOPSIS
.B pam_oidc id_token
[\fB--openid-config-url=\fIconfig_url\fR]
.br
.B pam_oidc local_auth
[\fB--verify_endpoint=\fIverify_endpoint\fR]
.br
.B pam_oidc poll 
.BI --client_id= client_id
.BI --client_secret= client_secret
.SH DESCRIPTION
.B pam_oidc
is a PAM module that incorporates OIDC to your Linux login. It is primarily intended to use with SSH and features a few modes of operation.

.SH ARGUMENTS
One non-option argument is required.
First non-option argument specifies the mode name, the rest is discarded.
.br
Following are valid values for the mode name:
.TP
.B id_token
Authenticate using an ID token. The user is prompted for the token.
.TP
.B local_auth
Authenticate using an OIDC access token. The user is prompted for the token.
.TP
.B poll
Authenticate using the Device Authorization Flow. Requires 
.I client_id
and
.IR client_secret .

.SH OPTIONS
.TP
.BI --client_id= client_id
OIDC client ID (required for poll mode).
.TP
.BI --client_secret= client_secret
OIDC client secret (required for poll mode).
.TP
.BI --verify_endpoint= verify_endpoint
motley_cue endpoint to use for user verification. Default is "http://localhost:8080/verify_user".
.TP
.BI --openid-config-url= config_url
OpenID Provider Configuration Information endpoint (the one with "/.well-known/openid-configuration" path). Default is "https://accounts.google.com/.well-known/openid-configuration"

.SH EXAMPLE
.PP
An example usage for /etc/pam.d/sshd would be:
.sp
.if n \{\
.RS 4
.\}
.nf
auth    sufficient  pam_oidc.so local_auth
.fi
.if n \{\
.RE
.\}

.SH AUTHOR
Grzegorz Suwaj

.SH SEE ALSO
.BR pam.conf (5), 
.BR pam.d (5),
.BR pam (8),
.BR sshd (8),
.BR sshd_config (5)
